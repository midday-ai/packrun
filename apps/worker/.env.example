# ================================
# SYNC WORKER ENVIRONMENT VARIABLES
# ================================

# Typesense Cloud Configuration (REQUIRED)
# Get these from your Typesense Cloud dashboard: https://cloud.typesense.org/
TYPESENSE_API_KEY=your-admin-api-key
TYPESENSE_HOST=xxx.a1.typesense.net

# Optional Typesense Settings
# TYPESENSE_PORT=443
# TYPESENSE_PROTOCOL=https
# TYPESENSE_COLLECTION=packages

# ================================
# Redis Configuration (for BullMQ job queue)
# ================================

# Option 1: Redis URL (preferred for Railway)
REDIS_URL=redis://localhost:6379

# Option 2: Individual settings
# REDIS_HOST=localhost
# REDIS_PORT=6379
# REDIS_PASSWORD=your-password

# ================================
# Cache Invalidation (OPTIONAL - for auto-invalidating on package updates)
# ================================

# Cloudflare (for purging API edge cache)
CLOUDFLARE_ZONE_ID=your-zone-id
CLOUDFLARE_API_TOKEN=your-api-token-with-cache-purge-permission
API_DOMAIN=https://api.packrun.dev

# ISR Revalidation (for invalidating Next.js pages)
WEB_REVALIDATE_URL=https://packrun.dev/api/revalidate
REVALIDATE_SECRET=your-secret-token

# ================================
# Database (for notifications)
# ================================

# PostgreSQL connection string
DATABASE_URL=postgresql://user:password@localhost:5432/v1run

# ================================
# Email Notifications (OPTIONAL)
# ================================

# Resend API key for sending emails
# Get API key from: https://resend.com/api-keys
RESEND_API_KEY=re_xxxxx

# Unsubscribe token signing secret (must match API)
# Generate with: openssl rand -base64 32
UNSUBSCRIBE_SECRET=your-secret-key
